"use strict";var base={data:{call:{method:null,endpoint:null}},methods:{onPrepare:function(){console.warn(JSON.stringify(this.$data))},onLoadSuccess:function(t,n){console.warn("请覆写 onLoadSuccess")},onLoadFailure:function(t,n){showAlert(t,n)},request:function(t){var e=this;httpUtilenqueue(this.call.method,this.call.endpoint,t,function(t,n){e.onLoadSuccess(t,n)},function(t,n){e.onLoadFailure(t,n)})}}},get={mounted:function(){this.call.method="GET",this.call.endpoint=this.$el.dataset.endpoint||"",this.onPrepare(),this.refresh()},methods:{refresh:function(t){this.call.endpoint.trim()&&(this.isLoading=!0,this.request())}}},post={data:{params:{},next:""},mounted:function(){this.call.method=this.$el.dataset.method,this.call.endpoint=this.$el.dataset.endpoint||"",this.onPrepare()},methods:{onSubmit:function(){},onLoadSuccess:function(t,n){var e=new URL(document.URL).searchParams.get("next");e&&(location=e)},submit:function(t){this.onSubmit(),this.request(this.params)}}},patch={data:{params:{}},mounted:function(){this.call.method=this.$el.dataset.method,this.call.endpoint=this.$el.dataset.endpoint||"",this.onPrepare()},methods:{onSubmit:function(){},submit:function(t){this.onSubmit(),this.request(this.params)}}};