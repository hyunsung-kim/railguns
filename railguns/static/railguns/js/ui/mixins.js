"use strict";var base={data:{endpoint:null},methods:{onPrepare:function(){console.warn(JSON.stringify(this.$data))},onLoadSuccess:function(n,t){console.warn("请覆写 onLoadSuccess")},onLoadFailure:function(n,t){showAlert(n,t)}}},get={mounted:function(){this.endpoint=this.$el.dataset.endpoint||"",this.onPrepare(),this.refresh()},methods:{refresh:function(n){var o=this;this.endpoint.trim()&&(this.isLoading=!0,httpUtilenqueue("GET",this.endpoint,n,function(n,t){o.onLoadSuccess(n,t)},function(n,t){o.onLoadFailure(n,t)}))}}},post={data:{params:{},next:""},mounted:function(){this.endpoint=this.$el.dataset.endpoint||"",this.onPrepare()},methods:{onSubmit:function(){},onLoadSuccess:function(n,t){var o=new URL(document.URL).searchParams.get("next");o&&(location=o)},submit:function(n){var o=this;this.onSubmit(),httpUtilenqueue("POST",this.endpoint,this.params,function(n,t){o.onLoadSuccess(n,t)},function(n,t){o.onLoadFailure(n,t)})}}};